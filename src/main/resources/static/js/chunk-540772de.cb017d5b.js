(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-540772de"],{"14fe":function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"el-container",staticStyle:{display:"block"}},[s("el-row",[s("el-col",{staticStyle:{"margin-top":"20px"},attrs:{span:13}},[s("div",{staticStyle:{display:"flex",width:"100%","flex-direction":"row","justify-content":"space-between"}},[s("el-button",{staticStyle:{float:"left","margin-left":"3%"},on:{click:function(t){return e.goBack()}}},[s("i",{staticClass:"el-icon-back",staticStyle:{"margin-left":"0"}}),e._v("返回")]),s("span",{staticStyle:{"font-size":"30px"}},[e._v("客户基本信息")])],1)]),s("el-col",{staticStyle:{"margin-top":"20px"},attrs:{span:23,offset:1}},[s("span",{staticStyle:{"font-size":"20px","margin-bottom":"30px"}},[e._v("姓名: "+e._s(this.customerData.username))])]),s("el-col",{attrs:{span:23,offset:1}},[s("span",{staticStyle:{"font-size":"20px","margin-bottom":"30px"}},[e._v("备注: "+e._s(this.customerData.notes))])]),s("el-col",{staticStyle:{display:"flex","justify-content":"left","align-items":"center","margin-bottom":"30px"},attrs:{span:23,offset:1}},[s("span",{staticStyle:{"font-size":"20px","margin-right":"5px"}},[e._v("客户类型:")]),0==this.customerData.role?s("el-button",{attrs:{type:"success",size:"mini"}},[e._v("个人")]):s("el-button",{attrs:{type:"primary",size:"mini"}},[e._v("企业")])],1)],1),s("el-row",[s("el-col",{attrs:{span:24,"s-t-y-l-e":"font-size: 20px"}},[s("el-button",{attrs:{type:"info"}},[e._v("联系人信息")]),s("div",{staticStyle:{float:"right"}},[s("el-button",{attrs:{type:"warning"},on:{click:function(t){return e.addContactPerson()}}},[s("i",{staticClass:"el-icon-circle-plus"},[e._v("添加联系人")])])],1)],1)],1),s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.personData,border:"",fit:"","highlight-current-row":"","header-cell-style":{background:"#EBEEF3"}}},[s("el-table-column",{attrs:{label:"编号",type:"index",align:"center",fixed:""}}),s("el-table-column",{attrs:{label:"联系人姓名","min-width":"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[s("span",{staticStyle:{"text-align":"center"}},[e._v(" "+e._s(o.name)+" ")])]}}])}),s("el-table-column",{attrs:{label:"性别","min-width":"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[s("span",{staticStyle:{"text-align":"center"}},[e._v(" "+e._s(o.gender)+" ")])]}}])}),s("el-table-column",{attrs:{label:"电话号码","min-width":"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[s("span",{staticStyle:{"text-align":"center"}},[e._v(" "+e._s(o.phonenumber)+" ")])]}}])}),s("el-table-column",{attrs:{label:"座机号码","min-width":"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[s("span",{staticStyle:{"text-align":"center"}},[e._v(" "+e._s(o.homephonenumber)+" ")])]}}])}),s("el-table-column",{attrs:{label:"微信","min-width":"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[s("span",{staticStyle:{"text-align":"center"}},[e._v(" "+e._s(o.wechat)+" ")])]}}])}),s("el-table-column",{attrs:{label:"邮箱","min-width":"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[s("span",{staticStyle:{"text-align":"center"}},[e._v(" "+e._s(o.email)+" ")])]}}])}),s("el-table-column",{attrs:{label:"角色","min-width":"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[s("span",{staticStyle:{"text-align":"center"}},[e._v(" "+e._s(o.identity)+" ")])]}}])}),s("el-table-column",{attrs:{label:"操作","min-width":"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(s){return e.editePersonItem(t.row)}}}),s("el-button",{attrs:{type:"primary",icon:"el-icon-delete"},on:{click:function(s){return e.delPersonItem(t.row,t.$index)}}})]}}])})],1),s("el-row",[s("el-col",{attrs:{span:24,"s-t-y-l-e":"font-size: 20px"}},[s("el-button",{attrs:{type:"info"}},[e._v("联系地址信息")]),s("div",{staticStyle:{float:"right"}},[s("el-button",{attrs:{type:"warning"},on:{click:function(t){return e.addContactAddress()}}},[s("i",{staticClass:"el-icon-circle-plus"},[e._v("添加联系地址")])])],1)],1)],1),s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.addressData,border:"",fit:"","highlight-current-row":"","header-cell-style":{background:"#EBEEF3"}}},[s("el-table-column",{attrs:{label:"编号",type:"index",align:"center",fixed:""}}),s("el-table-column",{attrs:{label:"标题","min-width":"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[s("span",{staticStyle:{"text-align":"center"}},[e._v(" "+e._s(o.title)+" ")])]}}])}),s("el-table-column",{attrs:{label:"邮编","min-width":"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[s("span",{staticStyle:{"text-align":"center"}},[e._v(" "+e._s(o.stampnumber)+" ")])]}}])}),s("el-table-column",{attrs:{label:"地址","min-width":"400",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[s("span",{staticStyle:{"text-align":"center"}},[e._v(" "+e._s(e.splicingAddress(o.country,o.province,o.city,o.district,o.detaileara))+" ")])]}}])}),s("el-table-column",{attrs:{label:"操作","min-width":"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(s){return e.editeContactAddress(t.row)}}}),s("el-button",{attrs:{type:"primary",icon:"el-icon-delete"},on:{click:function(s){return e.delAddressItem(t.row,t.$index)}}})]}}])})],1),s("el-dialog",{attrs:{title:"添加联系人",width:"80%",visible:e.addContactPersonVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addContactPersonVisible=t},close:function(t){return e.CloseDialogAddContactPerson()},open:function(t){return e.OpenDialogAddContactPerson()}}},[s("el-form",{ref:"AddContactPerson",attrs:{rules:e.rules,model:e.addCustomerForm,"label-position":"left"}},[s("div",{staticStyle:{display:"flex","flex-direction":"column"}},[s("el-button",{staticStyle:{float:"left",width:"200px"},attrs:{type:"primary"},on:{click:e.addContactpersonList}},[s("i",{staticClass:"el-icon-circle-plus-outline"},[e._v("增加一个联系人")])])],1),s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.addCustomerForm.contactpersonList,stripe:"",border:"",size:"mini"}},[s("el-table-column",{attrs:{label:"姓名",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-form-item",{staticClass:"item",attrs:{prop:"contactpersonList."+t.$index+".name",rules:e.rules.contactpersonList.name}},[s("el-input",{attrs:{size:"small"},model:{value:t.row.name,callback:function(s){e.$set(t.row,"name","string"===typeof s?s.trim():s)},expression:"scope.row.name"}})],1)]}}])}),s("el-table-column",{attrs:{label:"性别",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-form-item",{staticClass:"item",attrs:{prop:"contactpersonList."+t.$index+".gender",rules:e.rules.contactpersonList.gender}},[s("el-input",{attrs:{size:"small"},model:{value:t.row.gender,callback:function(s){e.$set(t.row,"gender","string"===typeof s?s.trim():s)},expression:"scope.row.gender"}})],1)]}}])}),s("el-table-column",{attrs:{label:"手机号码",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-form-item",{staticClass:"item",attrs:{prop:"contactpersonList."+t.$index+".phonenumber",rules:e.rules.contactpersonList.phonenumber}},[s("el-input",{attrs:{size:"small"},model:{value:t.row.phonenumber,callback:function(s){e.$set(t.row,"phonenumber","string"===typeof s?s.trim():s)},expression:"scope.row.phonenumber"}})],1)]}}])}),s("el-table-column",{attrs:{label:"座机号码",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-form-item",{staticClass:"item",attrs:{prop:"contactpersonList."+t.$index+".homephonenumber",rules:e.rules.contactpersonList.homephonenumber}},[s("el-input",{attrs:{size:"small"},model:{value:t.row.homephonenumber,callback:function(s){e.$set(t.row,"homephonenumber","string"===typeof s?s.trim():s)},expression:"scope.row.homephonenumber"}})],1)]}}])}),s("el-table-column",{attrs:{label:"微信",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-form-item",{staticClass:"item",attrs:{prop:"contactpersonList."+t.$index+".wechat",rules:e.rules.contactpersonList.wechat}},[s("el-input",{attrs:{size:"small"},model:{value:t.row.wechat,callback:function(s){e.$set(t.row,"wechat","string"===typeof s?s.trim():s)},expression:"scope.row.wechat"}})],1)]}}])}),s("el-table-column",{attrs:{label:"邮箱",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-form-item",{staticClass:"item",attrs:{prop:"contactpersonList."+t.$index+".email",rules:e.rules.contactpersonList.email}},[s("el-input",{attrs:{size:"small"},model:{value:t.row.email,callback:function(s){e.$set(t.row,"email","string"===typeof s?s.trim():s)},expression:"scope.row.email"}})],1)]}}])}),s("el-table-column",{attrs:{label:"角色",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-form-item",{staticClass:"item",attrs:{prop:"contactpersonList."+t.$index+".identity",rules:e.rules.contactpersonList.identity}},[s("el-input",{attrs:{size:"small"},model:{value:t.row.identity,callback:function(s){e.$set(t.row,"identity","string"===typeof s?s.trim():s)},expression:"scope.row.identity"}})],1)]}}])}),s("el-table-column",{attrs:{align:"center",label:"操作","min-width":"20"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"text",icon:"el-icon-delete",size:"small"},on:{click:function(s){return e.delRowTable2(t.$index)}}})]}}])})],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){return e.CloseDialogAddContactPerson()}}},[e._v(" 取消 ")]),s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addContactPersonData()&&e.CloseDialogAddContactPerson()}}},[e._v(" 确认 ")])],1)],1),s("el-dialog",{attrs:{title:"添加联系地址",width:"80%",visible:e.addContactAddressVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addContactAddressVisible=t},close:function(t){return e.CloseDialogAddContactAddress()},open:function(t){return e.OpenDialogAddContactAddress()}}},[s("el-form",{ref:"AddContactAddress",attrs:{rules:e.rules,model:e.addCustomerForm,"label-position":"left"}},[s("div",{staticStyle:{display:"flex","flex-direction":"column"}},[s("h3",{staticStyle:{"text-align":"center"}},[e._v("联系地址")]),s("el-button",{staticStyle:{float:"left",width:"200px"},attrs:{type:"primary"},on:{click:e.addContactaddressList}},[s("i",{staticClass:"el-icon-circle-plus-outline"},[e._v("添加一个联系地址")])])],1),s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.addCustomerForm.contactaddressList,stripe:"",border:"",size:"mini"}},[s("el-table-column",{attrs:{label:"title",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-form-item",{staticClass:"item",attrs:{prop:"contactaddressList."+t.$index+".title",rules:e.rules.contactaddressList.title}},[s("el-input",{attrs:{size:"small"},model:{value:t.row.title,callback:function(s){e.$set(t.row,"title","string"===typeof s?s.trim():s)},expression:"scope.row.title"}})],1)]}}])}),s("el-table-column",{attrs:{label:"邮编",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-form-item",{attrs:{prop:"contactaddressList."+t.$index+".stampnumber",rules:e.rules.contactaddressList.stampnumber}},[s("el-input",{attrs:{size:"small"},model:{value:t.row.stampnumber,callback:function(s){e.$set(t.row,"stampnumber","string"===typeof s?s.trim():s)},expression:"scope.row.stampnumber"}})],1)]}}])}),s("el-table-column",{attrs:{label:"country",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-form-item",{attrs:{prop:"contactaddressList."+t.$index+".country",rules:e.rules.contactaddressList.country}},[s("el-input",{attrs:{size:"small"},model:{value:t.row.country,callback:function(s){e.$set(t.row,"country","string"===typeof s?s.trim():s)},expression:"scope.row.country"}})],1)]}}])}),s("el-table-column",{attrs:{align:"center",label:"地址","min-width":"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-form-item",{attrs:{prop:"contactaddressList."+t.$index+".selectedOptions",rules:e.rules.contactaddressList.selectedOptions}},[s("el-cascader",{staticClass:"full-width",attrs:{options:e.areaSelectData,clearable:!0,filterable:!0,"change-on-select":!0,placeholder:"请选择地址",size:"medium"},on:{change:function(s){return e.handleChangeAddress(t.$index)}},model:{value:t.row.selectedOptions,callback:function(s){e.$set(t.row,"selectedOptions",s)},expression:"scope.row.selectedOptions"}})],1)]}}])}),s("el-table-column",{attrs:{label:"详细地址",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-form-item",{attrs:{prop:"contactaddressList."+t.$index+".detaileara",rules:e.rules.contactaddressList.detaileara}},[s("el-input",{attrs:{size:"small"},model:{value:t.row.detaileara,callback:function(s){e.$set(t.row,"detaileara","string"===typeof s?s.trim():s)},expression:"scope.row.detaileara"}})],1)]}}])}),s("el-table-column",{attrs:{align:"center",label:"操作","min-width":"20"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"text",icon:"el-icon-delete",size:"small"},on:{click:function(s){return e.delRowTable3(t.$index)}}})]}}])})],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){return e.CloseDialogAddContactAddress()}}},[e._v(" 取消 ")]),s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addContactAddressData()&&e.CloseDialogAddContactAddress()}}},[e._v(" 确认 ")])],1)],1),s("el-dialog",{attrs:{title:"编辑联系人信息",width:"80%",visible:e.editePersonItemVisible},on:{"update:visible":function(t){e.editePersonItemVisible=t},close:function(t){return e.CloseDialogeditePersonItem()}}},[s("el-form",{ref:"editePersonItemData",attrs:{model:e.editePersonItemData,rules:e.rules.contactpersonList,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"姓名",prop:"name"}},[s("el-input",{model:{value:e.editePersonItemData.name,callback:function(t){e.$set(e.editePersonItemData,"name","string"===typeof t?t.trim():t)},expression:"editePersonItemData.name"}})],1),s("el-form-item",{attrs:{label:"性别",prop:"gender"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.editePersonItemData.gender,callback:function(t){e.$set(e.editePersonItemData,"gender",t)},expression:"editePersonItemData.gender"}},e._l(e.genderOptions,(function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),s("el-form-item",{attrs:{label:"电话号码",prop:"phonenumber"}},[s("el-input",{model:{value:e.editePersonItemData.phonenumber,callback:function(t){e.$set(e.editePersonItemData,"phonenumber","string"===typeof t?t.trim():t)},expression:"editePersonItemData.phonenumber"}})],1),s("el-form-item",{attrs:{label:"座机",prop:"homephonenumber"}},[s("el-input",{model:{value:e.editePersonItemData.homephonenumber,callback:function(t){e.$set(e.editePersonItemData,"homephonenumber","string"===typeof t?t.trim():t)},expression:"editePersonItemData.homephonenumber"}})],1),s("el-form-item",{attrs:{label:"微信",prop:"wechat"}},[s("el-input",{model:{value:e.editePersonItemData.wechat,callback:function(t){e.$set(e.editePersonItemData,"wechat","string"===typeof t?t.trim():t)},expression:"editePersonItemData.wechat"}})],1),s("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[s("el-input",{model:{value:e.editePersonItemData.email,callback:function(t){e.$set(e.editePersonItemData,"email","string"===typeof t?t.trim():t)},expression:"editePersonItemData.email"}})],1),s("el-form-item",{attrs:{label:"角色",prop:"identity"}},[s("el-input",{model:{value:e.editePersonItemData.identity,callback:function(t){e.$set(e.editePersonItemData,"identity","string"===typeof t?t.trim():t)},expression:"editePersonItemData.identity"}})],1),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("editePersonItemData")}}},[e._v("提交")]),s("el-button",{on:{click:function(t){return e.resetForm("editePersonItemData")}}},[e._v("重置")])],1)],1)],1),s("el-dialog",{attrs:{title:"编辑联系地址信息",width:"80%",visible:e.editAddressItemDataVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.editAddressItemDataVisible=t},close:function(t){e.editAddressItemDataVisible=!1}}},[s("el-form",{ref:"editAddressItemData",attrs:{model:e.editAddressItemData,rules:e.rules.contactaddressList,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"标题",prop:"title"}},[s("el-input",{model:{value:e.editAddressItemData.title,callback:function(t){e.$set(e.editAddressItemData,"title","string"===typeof t?t.trim():t)},expression:"editAddressItemData.title"}})],1),s("el-form-item",{attrs:{label:"邮编",prop:"stampnumber"}},[s("el-input",{model:{value:e.editAddressItemData.stampnumber,callback:function(t){e.$set(e.editAddressItemData,"stampnumber","string"===typeof t?t.trim():t)},expression:"editAddressItemData.stampnumber"}})],1),s("el-form-item",{attrs:{label:"国家",prop:"country"}},[s("el-input",{model:{value:e.editAddressItemData.country,callback:function(t){e.$set(e.editAddressItemData,"country","string"===typeof t?t.trim():t)},expression:"editAddressItemData.country"}})],1),s("el-form-item",{attrs:{label:"地区",prop:"selectedOptions2"}},[s("el-cascader",{staticClass:"full-width",attrs:{options:e.areaSelectData,clearable:!0,placeholder:"请选择地址",filterable:!0,size:"medium"},on:{change:function(t){return e.handleChangeAddress2()}},model:{value:e.editAddressItemData.selectedOptions2,callback:function(t){e.$set(e.editAddressItemData,"selectedOptions2",t)},expression:"editAddressItemData.selectedOptions2"}})],1),s("el-form-item",{attrs:{label:"详细地址",prop:"detaileara"}},[s("el-input",{model:{value:e.editAddressItemData.detaileara,callback:function(t){e.$set(e.editAddressItemData,"detaileara","string"===typeof t?t.trim():t)},expression:"editAddressItemData.detaileara"}})],1),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitFormEditAddressItem("editAddressItemData")}}},[e._v("提交")]),s("el-button",{on:{click:function(t){return e.resetForm("editAddressItemData")}}},[e._v("重置")])],1)],1)],1)],1)},n=[],i=(s("a434"),s("a9e3"),s("8ba4"),s("5530")),a=s("b775");function r(e){return Object(a["a"])({url:"/customer/selectOne",method:"get",params:e})}var l=s("ef6c"),c=(s("4360"),{name:"CustomerDetailInfo",data:function(){var e=this,t=function(e,t,s){var o=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/;if(!t)return s(new Error("邮箱不能为空"));setTimeout((function(){o.test(t)?s():s(new Error("请输入正确的邮箱格式"))}),100)},s=function(e,t,s){var o=/^1[3|4|5|7|8][0-9]{9}$/;if(!t)return s(new Error("手机号不能为空"));setTimeout((function(){Number.isInteger(+t)?o.test(t)?s():s(new Error("请输入正确的手机号码")):s(new Error("请输入数字值"))}),100)},o=function(e,t,s){var o=/^(0[0-9]{2,3}\-)([2-9][0-9]{6,7})+(\-[0-9]{1,4})?$/;if(!t)return s(new Error("座机号码不能为空"));setTimeout((function(){o.test(t)?s():s(new Error("请输入正确的座机号码"))}),100)},n=function(e,t,s){var o=/^[0-9]{6}$/;if(!t)return s(new Error("邮编不能为空"));setTimeout((function(){o.test(t)?s():s(new Error("请输入正确的邮编"))}),100)},i=function(e,t,s){if(!t)return s(new Error("省市区地址不能为空"));setTimeout((function(){console.log("checkSelectOptionIs3   value"),console.log(t),3===t.length?s():s(new Error("请选择完整的省市区地址"))}),100)},a=function(t,s,o){if(console.log("checkSelectOptionIs3................."),console.log(s),console.log("this.editAddressItemData in checkSelectOptionIs3"),console.log(e.editAddressItemData.selectedOptions2),!e.editAddressItemData.selectedOptions2)return o(new Error("省市区地址不能为空"));setTimeout((function(){console.log("checkSelectOptionIs3   value"),console.log(e.editAddressItemData.selectedOptions2),3===e.editAddressItemData.selectedOptions2.length?o():o(new Error("请选择省市区地址"))}),100)};return{url:this.$store.state.user.url,genderOptions:[{value:"男",label:"男"},{value:"女",label:"女"}],areaSelectData:l["regionData"],addCustomerForm:{username:"",notes:"",contactaddressList:[{title:"1",stampnumber:"123456",country:"中国",selectedOptions:[],province:"",city:"",district:"",detaileara:""}],contactpersonList:[{name:"name",gender:"男",phonenumber:"18896173420",homephonenumber:"023-79491111",wechat:"18896173420",email:"1183928999@qq.com",identity:"ceo"}]},rules:{username:[{required:!0,message:"type is required",trigger:"change"}],notes:[{required:!0,message:"type is required",trigger:"change"}],contactaddressList:{title:[{required:!0,message:"type is required",trigger:"change"}],stampnumber:[{required:!0,message:"type is required",trigger:"change"},{validator:n,trigger:"blur"}],country:[{required:!0,message:"type is required",trigger:"change"}],province:[{required:!0,message:"type is required",trigger:"change"}],city:[{required:!0,message:"type is required",trigger:"change"}],district:[{required:!0,message:"type is required",trigger:"change"}],detaileara:[{required:!0,message:"type is required",trigger:"change"}],selectedOptions:[{required:!0,message:"type is required",trigger:"change"},{validator:i,trigger:"blur"}],selectedOptions2:[{validator:a,message:"请将地址填写完整",trigger:"change"}]},contactpersonList:{name:[{required:!0,message:"type is required",trigger:"change"}],gender:[{required:!0,message:"type is required",trigger:"change"}],phonenumber:[{required:!0,message:"type is required",trigger:"blur"},{validator:s,trigger:"blur"}],homephonenumber:[{required:!0,message:"type is required",trigger:"blur"},{validator:o,trigger:"blur"}],wechat:[{required:!0,message:"type is required",trigger:"change"}],email:[{required:!0,message:"type is required",trigger:"blur"},{message:"type is required",validator:t,trigger:"blur"}],identity:[{required:!0,message:"type is required",trigger:"change"}]}},cid:this.$route.query,addressData:[],personData:[],customerData:"",addContactPersonVisible:!1,addContactAddressVisible:!1,editePersonItemVisible:!1,editePersonItemData:"",editAddressItemData:"",editAddressItemDataVisible:!1}},created:function(){this.lnitializationData()},methods:{splicingAddress:function(e,t,s,o,n){return e+l["CodeToText"][t]+l["CodeToText"][s]+l["CodeToText"][o]+n},handleChangeAddress:function(e){this.addCustomerForm.contactaddressList[e].province=this.addCustomerForm.contactaddressList[e].selectedOptions[0],this.addCustomerForm.contactaddressList[e].city=this.addCustomerForm.contactaddressList[e].selectedOptions[1],this.addCustomerForm.contactaddressList[e].district=this.addCustomerForm.contactaddressList[e].selectedOptions[2],console.log("this.form.province city area"),console.log(this.addCustomerForm.contactaddressList[e].province),console.log(this.addCustomerForm.contactaddressList[e].city),console.log(this.addCustomerForm.contactaddressList[e].district),console.log(this.addCustomerForm),console.log(this.addCustomerForm),console.log("handleChangeAddress index............."),console.log(e)},handleChangeAddress2:function(){this.editAddressItemData.province=this.editAddressItemData.selectedOptions2[0],this.editAddressItemData.city=this.editAddressItemData.selectedOptions2[1],this.editAddressItemData.district=this.editAddressItemData.selectedOptions2[2],console.log("this.form.province city area"),console.log(this.editAddressItemData.province),console.log(this.editAddressItemData.city),console.log(this.editAddressItemData.district),console.log(this.editAddressItemData)},submitFormEditAddressItem:function(e){var t=this;console.log(e);var s=Object(i["a"])({},this.editAddressItemData);delete s.selectedOptions2,this.$refs.editAddressItemData.validate((function(e){e&&(console.log("已进入确认界面："),t.$axios.post(t.url+"/contactaddress/updateAddressItem",s,{timeout:5e3}).then((function(e){console.log(e),t.editAddressItemDataVisible=!1,t.$notify({title:"成功",message:"添加成功",type:"success",duration:2e3}),t.lnitializationData()})).catch((function(e){console.log(e)})))}))},editeContactAddress:function(e){console.log(e),this.editAddressItemData=Object(i["a"])({},e);var t="selectedOptions2",s=[e.province,e.city,e.district];this.editAddressItemData[t]=s,console.log("this.editAddressItemData........"),console.log(this.editAddressItemData),this.editAddressItemDataVisible=!0},submitForm:function(e){var t=this;console.log("this.editePersonItemData"),console.log(this.editePersonItemData),this.$refs.editePersonItemData.validate((function(e){e&&(console.log("已进入确认界面："),t.$axios.post(t.url+"/contactperson/updateContactItem",t.editePersonItemData,{timeout:3e3}).then((function(e){console.log(e),t.editePersonItemVisible=!1,t.$notify({title:"成功",message:"添加成功",type:"success",duration:2e3}),t.lnitializationData()})).catch((function(e){console.log(e)})))}))},resetForm:function(e){this.$refs[e].resetFields()},CloseDialogeditePersonItem:function(){this.editePersonItemVisible=!1},editePersonItem:function(e){console.log(e),this.editePersonItemData=Object(i["a"])({},e),this.editePersonItemVisible=!0},addContactAddressData:function(){var e=this;this.$refs.AddContactAddress.validate((function(t){if(t){console.log("已进入确认界面："),console.log("this.addCustomerForm.contactaddressList............."),console.log(e.addCustomerForm.contactaddressList);for(var s=0;s<e.addCustomerForm.contactaddressList.length;s++)delete e.addCustomerForm.contactaddressList[s].selectedOptions;var o=e.addCustomerForm.contactaddressList;console.log(e.addCustomerForm.contactaddressList),e.$axios.post(e.url+"/contactaddress/addContactAddress",{data:o,cid:e.cid},{timeout:3e3}).then((function(t){console.log(t),e.addContactAddressVisible=!1,e.$notify({title:"成功",message:"添加成功",type:"success",duration:2e3}),e.lnitializationData()})).catch((function(e){console.log(e)}))}}))},delRowTable3:function(e){this.addCustomerForm.contactaddressList.length>1?this.addCustomerForm.contactaddressList.splice(e,1):this.$notify({title:"失败",message:"必修有一条数据",type:"error",duration:2e3})},CloseDialogAddContactAddress:function(){this.$refs["AddContactAddress"].resetFields(),this.fileComponet=!1,this.addCustomerForm.contactpersonList.splice(1,this.addCustomerForm.contactpersonList.length),this.addCustomerForm.contactaddressList.splice(1,this.addCustomerForm.contactaddressList.length),this.addContactAddressVisible=!1},OpenDialogAddContactAddress:function(){this.fileComponet=!0},addContactaddressList:function(){var e={title:"1",stampnumber:"123456",country:"中国",province:"1",city:"1",district:"1",detaileara:"拦江堤路",selectedOptions:[]};this.addCustomerForm.contactaddressList.push(e)},addContactAddress:function(){this.addContactAddressVisible=!0},addContactPersonData:function(){var e=this;this.$refs.AddContactPerson.validate((function(t){if(t){console.log("已进入确认界面：");var s=e.addCustomerForm.contactpersonList;e.$axios.post(e.url+"/contactperson/addContactPerson",{data:s,cid:e.cid},{timeout:3e3},{headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"}}).then((function(t){console.log(t),e.addContactPersonVisible=!1,e.$notify({title:"成功",message:"添加成功",type:"success",duration:2e3}),e.lnitializationData()})).catch((function(e){console.log(e)}))}}))},delRowTable2:function(e){this.addCustomerForm.contactpersonList.length>1?this.addCustomerForm.contactpersonList.splice(e,1):this.$notify({title:"失败",message:"必修有一条数据",type:"error",duration:2e3})},CloseDialogAddContactPerson:function(){this.$refs["AddContactPerson"].resetFields(),this.fileComponet=!1,this.addCustomerForm.contactpersonList.splice(1,this.addCustomerForm.contactpersonList.length),this.addCustomerForm.contactaddressList.splice(1,this.addCustomerForm.contactaddressList.length),this.addContactPersonVisible=!1},OpenDialogAddContactPerson:function(){this.fileComponet=!0},addContactpersonList:function(){var e={name:"name",gender:"男",phonenumber:"18896173420",homephonenumber:"023-79491111",wechat:"18896173420",email:"1183928999@qq.com",identity:"ceo"};this.addCustomerForm.contactpersonList.push(e)},addContactPerson:function(){this.addContactPersonVisible=!0},lnitializationData:function(){this.getCustomerDataByCid(),this.getContactAddressDataByCid(),this.getContactPsersonDataByCid()},delAddressItem:function(e,t){var s=this;if(console.log(e),console.log(t),t>0){var o={id:e.id};this.$axios.delete(this.url+"/contactaddress/deleteById",{params:o}).then((function(e){console.log(e),s.$notify({title:"成功",message:"删除成功",type:"success",duration:2e3}),s.lnitializationData()})).catch((function(e){console.log(e)}))}else this.$notify({title:"失败",message:"默认联系地址不能删除",type:"error",duration:2e3})},delPersonItem:function(e,t){var s=this;if(console.log(e),console.log(t),t>0){var o={id:e.id};this.$axios.delete(this.url+"/contactperson/deleteById",{params:o}).then((function(e){console.log(e),s.$notify({title:"成功",message:"删除成功",type:"success",duration:2e3}),s.lnitializationData()})).catch((function(e){console.log(e)}))}else this.$notify({title:"失败",message:"默认联系人不能删除",type:"error",duration:2e3})},getCustomerDataByCid:function(){var e=this;r(this.cid).then((function(t){e.customerData=t})).catch((function(e){console.log(e)}))},getContactAddressDataByCid:function(){var e=this;this.$axios.get(this.url+"/contactaddress/selectByCid",{params:this.cid},{timeout:3e3}).then((function(t){e.addressData=t.data})).catch((function(e){console.log(e)}))},getContactPsersonDataByCid:function(){var e=this;this.$axios.get(this.url+"/contactperson/selectByCid",{params:this.cid},{timeout:3e3}).then((function(t){e.personData=t.data})).catch((function(e){console.log(e)}))},goBack:function(){this.$router.go(-1),console.log(this)}}}),d=c,u=(s("2b1d"),s("2877")),m=Object(u["a"])(d,o,n,!1,null,"3569f5b6",null);t["default"]=m.exports},"2b1d":function(e,t,s){"use strict";var o=s("d15b"),n=s.n(o);n.a},d15b:function(e,t,s){}}]);